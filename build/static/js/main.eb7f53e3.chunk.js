(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{103:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(14),i=n.n(r),c=(n(103),n(7)),o=n.n(c),l=n(10),d=n(6),s=n(23),u=n(18),j=n(162),h=n(166),b=n(167),v=n(168),f=n(57),O=n(169),p=n(92),m=n(181),x=n(85),g=n.n(x),y=n(84),w=n.n(y),k=n(83),C=n.n(k),S=n(82),T=n.n(S),A=n(81),E=n.n(A),W=n(1),P=function(){var e=Object(u.f)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(null),s=Object(d.a)(c,2),x=s[0],y=s[1],k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear(),window.location.href="/";case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(j.a,{style:{marginTop:"65px"},children:Object(W.jsx)(h.a,{children:Object(W.jsxs)(b.a,{children:[Object(W.jsxs)(v.a,{container:!0,style:{flexGrow:1},children:[Object(W.jsx)(v.a,{style:{cursor:"pointer"},onClick:function(){e.push("/"),i("/")},item:!0,children:Object(W.jsx)(f.a,{variant:"h4",children:"THEWALL"})}),Object(W.jsx)(v.a,{item:!0,children:Object(W.jsx)(O.a,{onClick:function(){e.push("/myfriendsposts"),i("/myfriendsposts")},style:{color:"white",backgroundColor:"/myfriendsposts"===r&&"red"},children:Object(W.jsx)(E.a,{})})}),Object(W.jsx)(v.a,{item:!0,children:Object(W.jsx)(O.a,{onClick:function(){e.push("/addfriend"),i("/addfriend")},style:{color:"white",backgroundColor:"/addfriend"===r&&"red"},children:Object(W.jsx)(T.a,{})})}),Object(W.jsx)(v.a,{item:!0,children:Object(W.jsx)(O.a,{onClick:function(){e.push("/friendrequest"),i("/friendrequest")},style:{color:"white",backgroundColor:"/friendrequest"===r&&"red"},children:Object(W.jsx)(C.a,{})})})]}),Object(W.jsx)(O.a,{style:{color:"white",backgroundColor:"/addpost"===r&&"red"},onClick:function(){return e.push("/addpost"),void i("/addpost")},children:Object(W.jsx)(w.a,{})}),Object(W.jsx)(O.a,{onClick:function(e){y(e.currentTarget)},style:{color:"white",backgroundColor:"/profile"===r&&"red"},children:Object(W.jsx)(g.a,{})})]})})}),Object(W.jsxs)(p.a,{id:"post-menu",anchorEl:x,keepMounted:!0,open:Boolean(x),onClose:function(){y(null)},children:[Object(W.jsx)(m.a,{onClick:function(){return e.push("/profile"),i("/profile"),void y(null)},children:"Profile"}),Object(W.jsx)(m.a,{onClick:k,children:" LogOut "})]})]})},F=n(15),R=n(9),$=n.n(R),L=n(86),I=n.n(L),N="http://127.0.0.1:8000",q=window.localStorage.getItem("token"),U={Authorization:"token ".concat(q)},_={Authorization:"token ".concat(q),"Content-Type":"application/json"},D={"X-CSRFToken":I.a.get("csrftoken")},G=Object(a.createContext)(),B=function(e){var t=e.reducer,n=e.initialState,r=e.children;return Object(W.jsx)(G.Provider,{value:Object(a.useReducer)(t,n),children:r})},H=function(){return Object(a.useContext)(G)},z=n(174),M=n(170),V=n(171),Y=n(182),J=n(175),X=n(176),K=n(177),Q=n(172),Z=n(173),ee=n(180),te=n(88),ne=n.n(te),ae=n(56),re=n.n(ae),ie=n(89),ce=n.n(ie),oe=function(e){var t,n,a,r=e.reply;return Object(W.jsxs)(M.a,{style:{width:"70%"},children:[Object(W.jsx)(V.a,{avatar:Object(W.jsx)(Y.a,{src:null===r||void 0===r||null===(t=r.profile)||void 0===t?void 0:t.image}),title:null===r||void 0===r||null===(n=r.profile)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.username,subheader:null===r||void 0===r?void 0:r.time}),Object(W.jsx)(Q.a,{children:Object(W.jsx)(f.a,{variant:"h5",children:null===r||void 0===r?void 0:r.title})})]})},le=function(e){var t,n,r,i,c,s=e.comment,u=H(),j=Object(d.a)(u,2);Object(F.a)(j[0]);var h=j[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),m=p[0],x=p[1],g=Object(a.useState)(""),y=Object(d.a)(g,2),w=y[0],k=y[1],C=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/addreply/"),method:"POST",headers:_,data:{commentid:null===s||void 0===s?void 0:s.id,text:w}}).then((function(e){var t=e.data;console.log(t),!1===t.error?(k(""),h({type:"RELOAE",value:t})):alert("Somthing is Wrong! Try Agane.")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(M.a,{children:[Object(W.jsx)(V.a,{avatar:Object(W.jsx)(Y.a,{src:null===s||void 0===s||null===(t=s.profile)||void 0===t?void 0:t.image}),title:null===s||void 0===s||null===(n=s.profile)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.username,subheader:null===s||void 0===s?void 0:s.time}),Object(W.jsxs)(Q.a,{children:[Object(W.jsx)(f.a,{variant:"h5",children:null===s||void 0===s?void 0:s.title}),Object(W.jsxs)(Z.a,{onClick:function(){return x(!m)},style:{fontWeight:"bold"},children:["Reply(",null===s||void 0===s||null===(i=s.reply)||void 0===i?void 0:i.length,")"]})]}),!0===m&&Object(W.jsxs)(v.a,{style:{marginLeft:"30px"},container:!0,children:[Object(W.jsx)(ee.a,{style:{width:"70%"},id:"filled-basic",label:"Filled",variant:"filled",value:w,onChange:function(e){return k(e.target.value)},InputProps:{endAdornment:Object(W.jsx)(O.a,{disabled:0===(null===w||void 0===w?void 0:w.length),onClick:C,color:"primary",component:"span",children:Object(W.jsx)(re.a,{})})}}),Object(W.jsx)(v.a,{container:!0,direction:"column",children:null===s||void 0===s||null===(c=s.reply)||void 0===c?void 0:c.map((function(e,t){return Object(W.jsx)(oe,{reply:e},t)}))})]})]})},de=n(87),se=n.n(de),ue=n(90),je=n.n(ue),he=Object(z.a)({button:{},dropdown:{position:"fixed",width:200,top:"40%",left:"40%",transform:"translate(-40%, -40%)",border:"1px solid",zIndex:19999999999999,padding:"10px",display:"flex",flexDirection:"column"},sbutton:{color:"white",fontWeight:"bold",backgroundColor:"#595555","&:hover":{backgroundColor:"#717171"}}}),be=function(e){var t,n,r,i,c,s,j,h,b,p,x=e.item,g=e.fulldata,y=void 0!==g&&g,w=he(),k=H(),C=Object(d.a)(k,2),S=C[0].profile,T=C[1],A=Object(a.useState)(!1),E=Object(d.a)(A,2),P=E[0],F=E[1],R=Object(a.useState)(""),L=Object(d.a)(R,2),I=L[0],q=L[1],U=Object(a.useState)(!1),D=Object(d.a)(U,2),G=D[0],B=D[1],z=Object(u.f)(),te=function(){z.push("/post/".concat(x.id))},ae=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/delatepost/"),method:"POST",headers:_,data:{postid:null===x||void 0===x?void 0:x.id}}).then((function(e){console.log(e.data),0==e.data.error?(T({type:"RELOAE",value:e.data}),alert("Your Post is Delated!!"),B(!1),z.push("/")):alert("Something is Wrong, Try Again!")})).catch((function(e){alert("Something is Wrong, Try Again!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/addlike/"),method:"POST",headers:_,data:{id:null===x||void 0===x?void 0:x.id}}).then((function(e){var t=e.data;console.log(t),!1===t.error?T({type:"RELOAE",value:t}):alert("Something is Wrong, Try Again!")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/addcomment/"),method:"POST",headers:_,data:{postid:null===x||void 0===x?void 0:x.id,title:I}}).then((function(e){var t=e.data;console.log(t),!1===t.error?(q(""),T({type:"RELOAE",value:t})):alert("Something is Wrong, Try Again!")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.push("/editpost/".concat(x.id));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(M.a,{style:{marginBottom:"10px"},children:[Object(W.jsx)(V.a,{avatar:Object(W.jsx)(Y.a,{src:null===x||void 0===x||null===(t=x.profile)||void 0===t?void 0:t.image}),title:null===x||void 0===x||null===(n=x.profile)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.username,subheader:null===x||void 0===x?void 0:x.time,action:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(O.a,{className:w.button,onClick:function(){B(!G)},children:Object(W.jsx)(se.a,{})}),G?Object(W.jsx)(J.a,{onClickAway:function(){return B(!1)},children:Object(W.jsxs)(M.a,{className:w.dropdown,id:"simple-menu",keepMounted:!0,children:[Object(W.jsx)(m.a,{className:w.sbutton,onClick:te,children:"View Post"}),(null===S||void 0===S?void 0:S.id)===(null===x||void 0===x||null===(i=x.profile)||void 0===i?void 0:i.id)?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(m.a,{className:w.sbutton,onClick:ae,children:"Delate"}),Object(W.jsx)(m.a,{className:w.sbutton,onClick:de,children:"Edit Post"})]}):Object(W.jsx)(m.a,{className:w.sbutton,onClick:function(){var e;z.push("/friend/".concat(null===x||void 0===x||null===(e=x.profile)||void 0===e?void 0:e.id))},children:"Profile"})]})}):null]})}),Object(W.jsx)(X.a,{onClick:te,children:Object(W.jsx)(f.a,{style:{padding:"10px"},variant:"h5",component:"h2",children:null===x||void 0===x?void 0:x.title})}),null!==(null===x||void 0===x?void 0:x.image)&&Object(W.jsx)(X.a,{onClick:te,children:Object(W.jsx)(K.a,{style:{height:0,paddingTop:"56%"},image:null===x||void 0===x?void 0:x.image})}),(null!==(c=null!==(null===x||void 0===x?void 0:x.content))&&void 0!==c?c:0!==(null===x||void 0===x||null===(s=x.content)||void 0===s?void 0:s.length))&&Object(W.jsx)(X.a,{onClick:te,children:Object(W.jsx)(Q.a,{children:y?Object(W.jsx)(f.a,{children:null===x||void 0===x?void 0:x.content}):Object(W.jsx)(f.a,{children:(null===x||void 0===x||null===(j=x.content)||void 0===j?void 0:j.length)>100?null===x||void 0===x||null===(h=x.content)||void 0===h?void 0:h.substring(0,100):null===x||void 0===x?void 0:x.content})})}),Object(W.jsxs)(v.a,{container:!0,direction:"row",justify:"space-around",style:{padding:"10px"},children:[Object(W.jsxs)(Z.a,{onClick:ie,variant:"contained",color:"primary",startIcon:(null===x||void 0===x?void 0:x.like)?Object(W.jsx)(ne.a,{color:"secondary"}):Object(W.jsx)(ce.a,{color:"secondary"}),children:["Like(",null===x||void 0===x?void 0:x.totallike,")"]}),Object(W.jsxs)(Z.a,{variant:"contained",color:"primary",startIcon:Object(W.jsx)(je.a,{}),onClick:function(){return F(!P)},children:["Comment(",null===x||void 0===x||null===(b=x.comment)||void 0===b?void 0:b.length,")"]})]}),!0===P&&Object(W.jsxs)(v.a,{style:{padding:"10px"},container:!0,children:[Object(W.jsx)(ee.a,{value:I,onChange:function(e){return q(e.target.value)},style:{width:"100%"},id:"filled-basic",label:"Filled",variant:"filled",InputProps:{endAdornment:Object(W.jsx)(O.a,{disabled:0===(null===I||void 0===I?void 0:I.length),onClick:oe,color:"primary",component:"span",children:Object(W.jsx)(re.a,{})})}}),Object(W.jsx)(v.a,{container:!0,direction:"column",children:null===x||void 0===x||null===(p=x.comment)||void 0===p?void 0:p.map((function(e,t){return Object(W.jsx)(le,{comment:e},t)}))})]})]})})},ve=function(){var e=H(),t=Object(d.a)(e,2),n=t[0].reload;Object(F.a)(t[1]);var r=Object(a.useState)(null),i=Object(d.a)(r,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){$.a.get("".concat(N,"/api/posts/"),{method:"GET",headers:U}).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[n]),Object(W.jsx)(W.Fragment,{children:null!==c?null===c||void 0===c?void 0:c.map((function(e,t){return Object(W.jsx)(be,{item:e},t)})):"Loading..."})},fe=n(94),Oe=function(){return Object(W.jsx)(fe.a,{children:Object(W.jsx)("img",{style:{width:"100%"},alt:"sidebarimage",src:"https://images.unsplash.com/photo-1581665611754-08d420f9590f?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=751&q=80"})})},pe=function(){return Object(W.jsx)(j.a,{maxWidth:"lg",children:Object(W.jsxs)(v.a,{container:!0,children:[Object(W.jsx)(v.a,{item:!0,md:8,sm:12,children:Object(W.jsx)(ve,{})}),Object(W.jsx)(v.a,{item:!0,md:4,sm:12,children:Object(W.jsx)(Oe,{})})]})})},me=n(25),xe=function(){var e,t=H(),n=Object(d.a)(t,2);Object(F.a)(n[0]);var r=n[1],i=Object(a.useState)(null),c=Object(d.a)(i,2),s=c[0],h=c[1],b=Object(a.useState)(null),O=Object(d.a)(b,2),p=O[0],m=O[1],x=Object(a.useState)(null),g=Object(d.a)(x,2),y=g[0],w=g[1],k=Object(u.f)(),C=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",s),t.append("content",p),null!=y&&t.append("image",y),e.next=6,$()({url:"".concat(N,"/api/posts/"),method:"POST",headers:_,data:t}).then((function(e){var t=e.data;!1===t.error?(r({type:"RELOAE",value:t}),k.push("/")):alert("Somthing is Wrong! Try Agane.")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(j.a,{children:[Object(W.jsx)(f.a,{component:"div",style:{padding:"20px"},align:"center",variant:"h3",children:"Add A New Post"}),Object(W.jsxs)(v.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(W.jsx)(v.a,{item:!0,sm:12,xs:12,md:6,children:Object(W.jsx)(ee.a,{onChange:function(e){return h(e.target.value)},id:"standard-full-width",label:"Title",style:{margin:8},placeholder:"Wright Title Under 100 characters",helperText:"Wright Title Under 100 characters",fullWidth:!0,margin:"normal"})}),Object(W.jsx)(v.a,{item:!0,sm:12,xs:12,md:6,children:Object(W.jsx)(ee.a,{onChange:function(e){return m(e.target.value)},id:"standard-full-width",label:"Contents",style:{margin:8},placeholder:"Write your Contents..",helperText:"Write your Contents..",fullWidth:!0,margin:"normal"})}),Object(W.jsx)(v.a,{item:!0,sm:12,xs:12,md:6,children:Object(W.jsx)(ee.a,{onChange:function(e){return w(e.target.files[0])},id:"standard-full-width",label:"Image",style:{margin:8},placeholder:"Uplode A Image",helperText:"Uplode A Image",fullWidth:!0,margin:"normal",type:"file"})}),Object(W.jsx)(v.a,(e={item:!0,align:"center"},Object(me.a)(e,"item",!0),Object(me.a)(e,"xm",12),Object(me.a)(e,"xs",12),Object(me.a)(e,"md",12),Object(me.a)(e,"children",Object(W.jsx)(Z.a,{onClick:C,variant:"contained",size:"large",color:"primary",disabled:null===s||0===(null===s||void 0===s?void 0:s.length),children:"Add Post"})),e))]})]})},ge=n(178),ye=n(179),we=n(91),ke=n.n(we),Ce=Object(z.a)({button:{position:"relative"},dropdown:{position:"absolute",backgroundColor:"#8CABF6",right:"50px",bottom:"30px"}}),Se=function(e){var t,n,r,i,c=e.friend,s=e.asFriend,j=void 0!==s&&s,h=H(),b=Object(d.a)(h,2);Object(F.a)(b[0]);var v=b[1],f=Ce(),p=Object(a.useState)(!1),x=Object(d.a)(p,2),g=x[0],y=x[1],w=Object(u.f)(),k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/sendfriendrequest/"),method:"POST",headers:_,data:{id:null===c||void 0===c?void 0:c.id}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/unfriend/"),method:"POST",headers:_,data:{id:null===c||void 0===c?void 0:c.id}}).then((function(e){!1===e.data.error?v({type:"RELOAE",value:e.data}):alert("Somthing is Wrong! Try Agane.")})).catch((function(e){alert("Somthing is Wrong! Try Agane.")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(ge.a,{children:[Object(W.jsx)("img",{style:{width:"100%"},src:null===c||void 0===c?void 0:c.image,alt:null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.username}),Object(W.jsx)(ye.a,{title:null===c||void 0===c||null===(n=c.user)||void 0===n?void 0:n.username,subtitle:"".concat(null===c||void 0===c||null===(r=c.user)||void 0===r?void 0:r.first_name," ").concat(null===c||void 0===c||null===(i=c.user)||void 0===i?void 0:i.last_name," "),actionIcon:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(O.a,{className:f.button,onClick:function(){return y(!g)},children:Object(W.jsx)(ke.a,{})}),g?Object(W.jsx)(J.a,{onClickAway:function(){return y(!1)},children:Object(W.jsxs)(M.a,{className:f.dropdown,children:[Object(W.jsx)(m.a,{onClick:function(){w.push("/friend/".concat(null===c||void 0===c?void 0:c.id))},children:"Profile"}),j?Object(W.jsx)(m.a,{onClick:C,children:"Unfriend"}):Object(W.jsx)(m.a,{onClick:k,children:"Add Friend"})]})}):null]})})]})},Te=function(e){var t=e.friends,n=e.asFriend,a=void 0!==n&&n;return console.log(t,"$$$$$$friend"),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(f.a,{align:"center",variant:"h3",children:"Friends"}),Object(W.jsx)(v.a,{container:!0,lg:12,spacing:2,children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(W.jsx)(v.a,{sm:4,item:!0,children:Object(W.jsx)(Se,{asFriend:a,friend:e},t)})}))})]})},Ae=function(e){var t=e.posts;return Object(W.jsx)(W.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(W.jsx)(be,{item:e},t)}))})},Ee=function(){var e,t,n,r,i,c=H(),o=Object(d.a)(c,2),l=o[0].profile;Object(F.a)(o[1]);var s=Object(a.useState)(0),j=Object(d.a)(s,2),h=j[0],b=j[1],O=Object(u.f)();return Object(W.jsx)(W.Fragment,{children:null!==l&&Object(W.jsxs)(v.a,{style:{marginTop:"30px"},children:[Object(W.jsxs)(v.a,{container:!0,direction:"column",alignItems:"center",children:[Object(W.jsx)("img",{style:{width:"20%",borderRadius:"20px"},src:null===l||void 0===l?void 0:l.image,alt:null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.username}),Object(W.jsx)(f.a,{variant:"h5",children:null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.username}),Object(W.jsxs)(f.a,{variant:"h3",children:[null===l||void 0===l||null===(n=l.user)||void 0===n?void 0:n.first_name," ",null===l||void 0===l||null===(r=l.user)||void 0===r?void 0:r.last_name]}),Object(W.jsx)(f.a,{variant:"h5",children:null===l||void 0===l||null===(i=l.user)||void 0===i?void 0:i.email}),Object(W.jsx)(f.a,{children:null===l||void 0===l?void 0:l.bio}),Object(W.jsx)(Z.a,{onClick:function(){O.push("/editprofile")},style:{margin:"10px"},variant:"contained",color:"secondary",children:"Edit"})]}),Object(W.jsx)(M.a,{style:{backgroundColor:"#2e73ab"},children:Object(W.jsxs)(v.a,{style:{padding:"10px"},container:!0,direction:"row",justify:"space-around",children:[Object(W.jsx)(Z.a,{onClick:function(){return b(0)},color:"primary",variant:"contained",children:"Posts"}),Object(W.jsx)(Z.a,{onClick:function(){return b(1)},color:"primary",variant:"contained",children:"Friends"})]})}),0===h?Object(W.jsx)(Ae,{posts:null===l||void 0===l?void 0:l.posts}):Object(W.jsx)(Te,{asFriend:!0,friends:null===l||void 0===l?void 0:l.friends})]})})},We=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),c=Object(d.a)(i,2),s=c[0],u=c[1],j=Object(a.useState)(""),h=Object(d.a)(j,2),b=h[0],O=h[1],p=Object(a.useState)(""),m=Object(d.a)(p,2),x=m[0],g=m[1],y=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/login/"),method:"POST",headers:D,data:{username:s,password:b}}).then((function(e){var t=e.data;t.token?(console.log(t.token),window.localStorage.setItem("token",t.token),window.location.href="/"):alert("Something is Wrong!Try Again!!")})).catch((function(e){alert("Something is Wrong!Try Again!!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b===x){e.next=3;break}return alert("Confirm Password!!"),e.abrupt("return");case 3:return e.next=5,$()({url:"".concat(N,"/api/register/"),method:"POST",headers:D,data:{username:s,password:b}}).then((function(e){var t=e.data;!1===t.error?(alert(t.message),r(!1)):alert(t.message)})).catch((function(e){alert("Something is Wrong!Try Again!!")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(v.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"80vh"},children:[Object(W.jsx)(f.a,{variant:"h4",children:n?"Register Now":"Login Now"}),Object(W.jsxs)(v.a,{item:!0,xs:12,md:6,sm:6,children:[Object(W.jsx)(ee.a,{onChange:function(e){return u(e.target.value)},style:{width:"100%",margin:"10px 0"},variant:"outlined",label:"Username"}),Object(W.jsx)(ee.a,{onChange:function(e){return O(e.target.value)},style:{width:"100%",margin:"10px 0"},variant:"outlined",label:"Password",type:"password"}),n&&Object(W.jsx)(ee.a,{onChange:function(e){return g(e.target.value)},style:{width:"100%",margin:"10px 0"},variant:"outlined",label:"Confirm Password",type:"password"})]}),n?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Z.a,{onClick:w,color:"primary",variant:"contained",children:"Register"}),Object(W.jsx)(Z.a,{onClick:function(){return r(!1)},color:"inherit",children:"Have an account, Login Now!"})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Z.a,{onClick:y,color:"primary",variant:"contained",children:"Login"}),Object(W.jsx)(Z.a,{onClick:function(){return r(!0)},color:"inherit",children:"No Account, Register Now!"})]})]})},Pe=function(e){var t,n,r,i,c=e.friend,s=H(),u=Object(d.a)(s,2);Object(F.a)(u[0]);var j=u[1],h=Object(a.useState)(0),b=Object(d.a)(h,2),O=b[0],p=b[1],m=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/sendfriendrequest/"),method:"POST",headers:_,data:{id:null===c||void 0===c?void 0:c.id}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/unfriend/"),method:"POST",headers:_,data:{id:null===c||void 0===c?void 0:c.id}}).then((function(e){!1===e.data.error?j({type:"RELOAE",value:e.data}):alert("Somthing is Wrong! Try Agane.")})).catch((function(e){alert("Somthing is Wrong! Try Agane.")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(v.a,{style:{marginTop:"30px"},children:null!==c&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(v.a,{container:!0,direction:"column",alignItems:"center",children:[Object(W.jsx)("img",{style:{width:"20%",borderRadius:"20px"},src:null===c||void 0===c?void 0:c.image,alt:null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.username}),Object(W.jsx)(f.a,{variant:"h5",children:null===c||void 0===c||null===(n=c.user)||void 0===n?void 0:n.username}),Object(W.jsxs)(f.a,{variant:"h3",children:[null===c||void 0===c||null===(r=c.user)||void 0===r?void 0:r.first_name," ",null===c||void 0===c||null===(i=c.user)||void 0===i?void 0:i.last_name]}),Object(W.jsx)(f.a,{children:null===c||void 0===c?void 0:c.bio})]}),Object(W.jsx)(M.a,{style:{backgroundColor:"#2e73ab"},children:Object(W.jsxs)(v.a,{style:{padding:"10px"},container:!0,direction:"row",justify:"space-around",children:[Object(W.jsx)(Z.a,{onClick:function(){return p(0)},color:"primary",variant:"contained",children:"Friends"}),Object(W.jsx)(Z.a,{onClick:function(){return p(1)},color:"primary",variant:"contained",children:"Posts"}),(null===c||void 0===c?void 0:c.myfriend)?Object(W.jsx)(Z.a,{onClick:x,color:"secondary",variant:"contained",children:"Unfriend"}):Object(W.jsx)(Z.a,{onClick:m,color:"secondary",variant:"contained",children:"Add Friend"})]})}),0===O?Object(W.jsx)(Te,{friends:null===c||void 0===c?void 0:c.friends}):Object(W.jsx)(Ae,{posts:null===c||void 0===c?void 0:c.posts})]})})},Fe=function(e){var t,n,a,r=e.friend,i=e.gteFriendData,c=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/sendfriendrequest/"),method:"POST",headers:_,data:{id:null===r||void 0===r?void 0:r.id}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(M.a,{children:Object(W.jsxs)(v.a,{style:{padding:"10px"},direction:"row",container:!0,children:[Object(W.jsx)(Y.a,{style:{},src:null===r||void 0===r?void 0:r.image}),Object(W.jsxs)(v.a,{container:!0,direction:"column",children:[Object(W.jsx)(f.a,{children:null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.username}),Object(W.jsxs)(f.a,{children:[null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.first_name," ",null===r||void 0===r||null===(a=r.user)||void 0===a?void 0:a.last_name]}),Object(W.jsxs)(v.a,{container:!0,direction:"row",justify:"space-evenly",children:[Object(W.jsx)(Z.a,{onClick:c,color:"primary",variant:"contained",children:"Add Friend"}),Object(W.jsx)(Z.a,{onClick:function(){return i(null===r||void 0===r?void 0:r.id)},color:"secondary",variant:"contained",children:"View Profile"})]})]})]})})},Re=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(null),c=Object(d.a)(i,2),s=c[0],u=c[1],h=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/friendprofile/"),headers:_,method:"POST",data:{id:t}}).then((function(e){u(e.data[0])})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/users/"),headers:U}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(W.jsx)(j.a,{children:Object(W.jsxs)(v.a,{container:!0,children:[Object(W.jsxs)(v.a,{item:!0,xs:12,xl:4,sm:4,md:4,lg:4,children:[Object(W.jsx)(f.a,{variant:"h5",align:"center",children:"Add Friends"}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(W.jsx)(Fe,{friend:e,gteFriendData:h},t)}))]}),Object(W.jsx)(v.a,{item:!0,xs:12,sm:8,md:8,lg:8,xl:8,children:Object(W.jsx)(Pe,{friend:s})})]})})},$e=function(){var e=H(),t=Object(d.a)(e,2),n=t[0].reload;Object(F.a)(t[1]);var r=Object(a.useState)(null),i=Object(d.a)(r,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){$.a.get("".concat(N,"/api/friendposts/"),{method:"GET",headers:U}).then((function(e){o(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[n]),Object(W.jsx)(j.a,{maxWidth:"lg",children:Object(W.jsxs)(v.a,{container:!0,children:[Object(W.jsx)(v.a,{item:!0,md:8,sm:12,children:Object(W.jsx)(W.Fragment,{children:null!==c?null===c||void 0===c?void 0:c.map((function(e,t){return Object(W.jsx)(be,{item:e},t)})):"Loading..."})}),Object(W.jsx)(v.a,{item:!0,md:4,sm:12,children:Object(W.jsx)(Oe,{})})]})})},Le=function(){var e=H(),t=Object(d.a)(e,2),n=t[0].profile,r=t[1],i=Object(a.useState)(""),c=Object(d.a)(i,2),s=c[0],h=c[1],b=Object(a.useState)(""),O=Object(d.a)(b,2),p=O[0],m=O[1],x=Object(a.useState)(""),g=Object(d.a)(x,2),y=g[0],w=g[1],k=Object(a.useState)(""),C=Object(d.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(null),E=Object(d.a)(A,2),P=E[0],F=E[1],R=Object(u.f)();Object(a.useEffect)((function(){var e,t,a;h(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.first_name),m(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.last_name),w(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.email),T(null===n||void 0===n?void 0:n.bio)}),[]);var L=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("bio",S),null!==P&&t.append("image",P),e.next=5,$()({url:"".concat(N,"/api/updateprofile/"),method:"POST",headers:_,data:t}).then((function(e){0==e.data.error?(r({type:"RELOAE",value:e.data}),R.push("/profile")):alert("Something is Wrong, Try Again!")})).catch((function(e){alert("Something is Wrong, Try Again!")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/updateuser/"),method:"POST",headers:_,data:{firstname:s,lasttname:p,email:y}}).then((function(e){0==e.data.error?(r({type:"RELOAE",value:e.data}),R.push("/profile")):alert("Something is Wrong, Try Again!")})).catch((function(e){alert("Something is Wrong, Try Again!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(j.a,{children:[Object(W.jsx)(f.a,{component:"div",style:{padding:"20px"},align:"center",variant:"h3",children:"Edti Profile"}),Object(W.jsxs)(v.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(W.jsx)(v.a,{item:!0,sm:6,xs:12,md:6,children:Object(W.jsx)(ee.a,{value:S,onChange:function(e){return T(e.target.value)},id:"standard-full-width",label:"Write About Your Self",style:{margin:8},placeholder:"Bio",fullWidth:!0,margin:"normal"})}),Object(W.jsx)(v.a,{item:!0,sm:6,xs:12,md:6,children:Object(W.jsx)(ee.a,{onChange:function(e){return F(e.target.files[0])},id:"standard-full-width",style:{margin:8},placeholder:"Profile Image",fullWidth:!0,margin:"normal",helperText:"Uplode Profile Picture",type:"file"})}),Object(W.jsx)(Z.a,{onClick:L,color:"primary",variant:"contained",children:"Update"})]}),Object(W.jsxs)(v.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(W.jsx)(v.a,{item:!0,sm:6,xs:12,md:6,children:Object(W.jsx)(ee.a,{value:s,onChange:function(e){return h(e.target.value)},id:"standard-full-width",label:"First Name",style:{margin:8},placeholder:"First Name",fullWidth:!0,margin:"normal"})}),Object(W.jsx)(v.a,{item:!0,sm:6,xs:12,md:6,children:Object(W.jsx)(ee.a,{value:p,onChange:function(e){return m(e.target.value)},id:"standard-full-width",label:"Last Name",style:{margin:8},placeholder:"Last name",fullWidth:!0,margin:"normal"})}),Object(W.jsx)(v.a,{item:!0,sm:12,xs:12,md:12,children:Object(W.jsx)(ee.a,{onChange:function(e){return w(e.target.value)},value:y,id:"standard-full-width",label:"Email",style:{margin:8},placeholder:"Email",fullWidth:!0,margin:"normal"})}),Object(W.jsx)(Z.a,{onClick:I,color:"primary",variant:"contained",children:"Update"})]})]})},Ie=function(){var e=Object(u.g)().id,t=H(),n=Object(d.a)(t,2),r=n[0].reload;Object(F.a)(n[1]);var i=Object(a.useState)(null),c=Object(d.a)(i,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){$.a.get("".concat(N,"/api/posts/").concat(e,"/"),{method:"GET",headers:U}).then((function(e){l(e.data[0]),console.log(e.data[0])})).catch((function(e){console.log(e)}))}),[r]),Object(W.jsx)(j.a,{children:null!==o&&Object(W.jsx)(be,{item:o,fulldata:!0})})},Ne=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],i=H(),c=Object(d.a)(i,2),s=c[0].reload;Object(F.a)(c[1]);var j=Object(u.g)().id;return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/friendprofile/"),headers:_,method:"POST",data:{id:j}}).then((function(e){r(e.data[0]),console.log(e.data[0])})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,j]),Object(W.jsx)(W.Fragment,{children:null!==n?Object(W.jsx)(Pe,{friend:n}):Object(W.jsx)(f.a,{variant:"h3",children:"Loding..."})})},qe=function(e){var t,n,a,r,i,c,s,j=e.item,h=H(),b=Object(d.a)(h,2);Object(F.a)(b[0]);var O=b[1],p=Object(u.f)(),m=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/deletesendfriendrequest/"),headers:_,method:"POST",data:{sender:null===j||void 0===j||null===(t=j.sender)||void 0===t?void 0:t.id,receiver:null===j||void 0===j||null===(n=j.receiver)||void 0===n?void 0:n.id}}).then((function(e){console.log(e.data),!1===e.data.error?O({type:"RELOAE",value:e.data}):alert("Something is Wrong! Try Again!!")})).catch((function(e){alert("Something is Wrong! Try Again!!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/acceptfriendrequest/"),headers:_,method:"POST",data:{senderid:null===j||void 0===j||null===(t=j.sender)||void 0===t?void 0:t.id}}).then((function(e){console.log(e.data),!1===e.data.error?O({type:"RELOAE",value:e.data}):alert("Something is Wrong! Try Again!!")})).catch((function(e){alert("Something is Wrong! Try Again!!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(M.a,{children:[Object(W.jsx)(V.a,{avatar:Object(W.jsx)(Y.a,{style:{},src:null===j||void 0===j||null===(t=j.sender)||void 0===t?void 0:t.image}),title:"".concat(null===j||void 0===j||null===(n=j.sender)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.first_name," ").concat(null===j||void 0===j||null===(r=j.sender)||void 0===r||null===(i=r.user)||void 0===i?void 0:i.last_name),subheader:"".concat(null===j||void 0===j||null===(c=j.sender)||void 0===c||null===(s=c.user)||void 0===s?void 0:s.username)}),Object(W.jsxs)(Q.a,{children:[Object(W.jsx)(f.a,{variant:"span",children:null===j||void 0===j?void 0:j.time}),Object(W.jsxs)(v.a,{container:!0,direction:"row",justify:"space-around",children:[Object(W.jsx)(Z.a,{onClick:x,color:"secondary",variant:"contained",children:"accept"}),Object(W.jsx)(Z.a,{onClick:m,color:"inherit",variant:"contained",children:"reject"}),Object(W.jsx)(Z.a,{onClick:function(){var e;p.push("/friend/".concat(null===j||void 0===j||null===(e=j.sender)||void 0===e?void 0:e.id))},color:"primary",variant:"contained",children:"View Profile"})]})]})]})},Ue=function(e){var t=e.received;return Object(W.jsxs)(fe.a,{children:[Object(W.jsx)(f.a,{align:"center",variant:"h4",children:"Friend Request I Get"}),null!==t?null===t||void 0===t?void 0:t.map((function(e,t){return Object(W.jsx)(qe,{item:e},t)})):Object(W.jsx)(f.a,{children:"No Friend Request"})]})},_e=function(e){var t,n,a,r,i,c,s,j=e.item,h=H(),b=Object(d.a)(h,2);Object(F.a)(b[0]);var O=b[1],p=Object(u.f)(),m=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/deletesendfriendrequest/"),headers:_,method:"POST",data:{sender:null===j||void 0===j||null===(t=j.sender)||void 0===t?void 0:t.id,receiver:null===j||void 0===j||null===(n=j.receiver)||void 0===n?void 0:n.id}}).then((function(e){console.log(e.data),!1===e.data.error?O({type:"RELOAE",value:e.data}):alert("Something is Wrong! Try Again!!")})).catch((function(e){alert("Something is Wrong! Try Again!!")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(M.a,{children:[Object(W.jsx)(V.a,{avatar:Object(W.jsx)(Y.a,{style:{},src:null===j||void 0===j||null===(t=j.receiver)||void 0===t?void 0:t.image}),title:"".concat(null===j||void 0===j||null===(n=j.receiver)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.first_name," ").concat(null===j||void 0===j||null===(r=j.receiver)||void 0===r||null===(i=r.user)||void 0===i?void 0:i.last_name),subheader:"".concat(null===j||void 0===j||null===(c=j.receiver)||void 0===c||null===(s=c.user)||void 0===s?void 0:s.username)}),Object(W.jsxs)(Q.a,{children:[Object(W.jsx)(f.a,{variant:"span",children:null===j||void 0===j?void 0:j.time}),Object(W.jsxs)(v.a,{container:!0,direction:"row",justify:"space-around",children:[Object(W.jsx)(Z.a,{onClick:m,color:"secondary",variant:"contained",children:"Cancel"}),Object(W.jsx)(Z.a,{onClick:function(){var e;p.push("/friend/".concat(null===j||void 0===j||null===(e=j.receiver)||void 0===e?void 0:e.id))},color:"primary",variant:"contained",children:"View Profile"})]})]})]})},De=function(e){var t=e.send;return Object(W.jsxs)(fe.a,{children:[Object(W.jsx)(f.a,{align:"center",variant:"h4",children:"Friend Request I send"}),null!==t?null===t||void 0===t?void 0:t.map((function(e,t){return Object(W.jsx)(_e,{item:e},t)})):Object(W.jsx)(f.a,{children:"No Sended Friend Request"})]})},Ge=function(){var e=H(),t=Object(d.a)(e,2),n=t[0].reload;Object(F.a)(t[1]);var r=Object(a.useState)(null),i=Object(d.a)(r,2),c=i[0],s=i[1],u=Object(a.useState)(null),h=Object(d.a)(u,2),b=h[0],f=h[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/sendfriendrequest/"),method:"GET",headers:U}).then((function(e){s(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/receivedfriendrequest/"),method:"GET",headers:U}).then((function(e){f(e.data)})).catch((function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(W.jsx)(j.a,{maxWidth:"lg",children:Object(W.jsxs)(v.a,{container:!0,children:[Object(W.jsx)(v.a,{xs:12,md:6,sm:6,children:Object(W.jsx)(De,{send:c})}),Object(W.jsx)(v.a,{xs:12,md:6,sm:6,children:Object(W.jsx)(Ue,{received:b})})]})})},Be=function(){var e,t=H(),n=Object(d.a)(t,2),r=n[0].reload,i=n[1],c=Object(a.useState)(""),s=Object(d.a)(c,2),h=s[0],b=s[1],O=Object(a.useState)(""),p=Object(d.a)(O,2),m=p[0],x=p[1],g=Object(a.useState)(null),y=Object(d.a)(g,2),w=y[0],k=y[1],C=Object(u.f)(),S=Object(u.g)().id;Object(a.useEffect)((function(){$.a.get("".concat(N,"/api/posts/").concat(S,"/"),{method:"GET",headers:U}).then((function(e){var t=e.data[0];b(t.title),x(t.content)})).catch((function(e){console.log(e)}))}),[r]);var T=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",h),t.append("content",m),null!=w&&t.append("image",w),e.next=6,$()({url:"".concat(N,"/api/posts/").concat(S,"/"),method:"POST",headers:_,data:t}).then((function(e){var t=e.data;!1===t.error?(i({type:"RELOAE",value:t}),C.push("/")):alert("Somthing is Wrong! Try Agane.")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(j.a,{children:[Object(W.jsx)(f.a,{component:"div",style:{padding:"20px"},align:"center",variant:"h3",children:"Add A New Post"}),Object(W.jsxs)(v.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(W.jsx)(v.a,{item:!0,sm:12,xs:12,md:6,children:Object(W.jsx)(ee.a,{onChange:function(e){return b(e.target.value)},id:"standard-full-width",label:"Title",style:{margin:8},placeholder:"Wright Title Under 100 characters",helperText:"Wright Title Under 100 characters",fullWidth:!0,margin:"normal",value:h})}),Object(W.jsx)(v.a,{item:!0,sm:12,xs:12,md:6,children:Object(W.jsx)(ee.a,{onChange:function(e){return x(e.target.value)},id:"standard-full-width",label:"Contents",style:{margin:8},placeholder:"Write your Contents..",helperText:"Write your Contents..",fullWidth:!0,margin:"normal",value:m})}),Object(W.jsx)(v.a,{item:!0,sm:12,xs:12,md:6,children:Object(W.jsx)(ee.a,{onChange:function(e){return k(e.target.files[0])},id:"standard-full-width",label:"Image",style:{margin:8},placeholder:"Uplode A Image",helperText:"Uplode A Image",fullWidth:!0,margin:"normal",type:"file"})}),Object(W.jsx)(v.a,(e={item:!0,align:"center"},Object(me.a)(e,"item",!0),Object(me.a)(e,"xm",12),Object(me.a)(e,"xs",12),Object(me.a)(e,"md",12),Object(me.a)(e,"children",Object(W.jsx)(Z.a,{onClick:T,variant:"contained",size:"large",color:"primary",disabled:null===h||0===(null===h||void 0===h?void 0:h.length),children:"Edit Post"})),e))]})]})},He=function(){var e=H(),t=Object(d.a)(e,2),n=t[0],r=n.profile,i=n.reload,c=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$()({url:"".concat(N,"/api/profile/"),headers:U}).then((function(e){c({type:"PROFILE",value:e.data[0]})})).catch((function(e){c({type:"PROFILE",value:null}),console.log(e,"$$$ERROR$$$$$$$$$$$$$$$$$$$$$$$")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),Object(W.jsx)(W.Fragment,{children:null!==r?Object(W.jsxs)(s.a,{children:[Object(W.jsx)(P,{}),Object(W.jsxs)(u.c,{children:[Object(W.jsx)(u.a,{exact:!0,path:"/",component:pe}),Object(W.jsx)(u.a,{exact:!0,path:"/addpost",component:xe}),Object(W.jsx)(u.a,{exact:!0,path:"/profile",component:Ee}),Object(W.jsx)(u.a,{exact:!0,path:"/editprofile",component:Le}),Object(W.jsx)(u.a,{exact:!0,path:"/addfriend",component:Re}),Object(W.jsx)(u.a,{exact:!0,path:"/myfriendsposts",component:$e}),Object(W.jsx)(u.a,{exact:!0,path:"/friendrequest",component:Ge}),Object(W.jsx)(u.a,{exact:!0,path:"/post/:id",component:Ie}),Object(W.jsx)(u.a,{exact:!0,path:"/friend/:id",component:Ne}),Object(W.jsx)(u.a,{exact:!0,path:"/editpost/:id",component:Be})]})]}):Object(W.jsx)(s.a,{children:Object(W.jsx)(u.a,{exact:!0,path:"/",component:We})})})},ze=n(49),Me=function(e,t){switch(console.log(t.type),t.type){case"RELOAE":return Object(ze.a)(Object(ze.a)({},e),{},{reload:t.value});case"PROFILE":return Object(ze.a)(Object(ze.a)({},e),{},{profile:t.value});default:return e}};i.a.render(Object(W.jsx)(B,{reducer:Me,initialState:{reload:null,profile:null},children:Object(W.jsx)(He,{})}),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.eb7f53e3.chunk.js.map